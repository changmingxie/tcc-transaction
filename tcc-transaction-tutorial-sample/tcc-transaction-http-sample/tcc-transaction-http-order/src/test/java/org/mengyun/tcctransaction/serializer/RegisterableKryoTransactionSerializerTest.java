package org.mengyun.tcctransaction.serializer;

import org.junit.Test;
import org.mengyun.tcctransaction.serializer.kryo.RegisterableKryoTransactionSerializer;
import org.mengyun.tcctransaction.transaction.Transaction;
import java.util.Base64;

/**
 * @Author huabao.fang
 * @Date 2022/7/27 14:32
 */
public class RegisterableKryoTransactionSerializerTest {

    private RegisterableKryoTransactionSerializer registerableKryoTransactionSerializer = new RegisterableKryoTransactionSerializer();

    /**
     */
    @Test
    public void test() {
        String base64Content = "JwELYXR0YWNobWVudPNjcmVhdGVUaW3lbGFzdFVwZGF0ZVRpbeVwYXJ0aWNpcGFudPNyZXRyaWVkQ291bvRyb290RG9tYWnucm9vdFhp5HN0YXR183RyYW5zYWN0aW9uVHlw5XZlcnNpb+54aeQDFQEBAAghAcb1qKShMAAIIQGgj7+pozAAyQEWAYQrAAEHY2FuY2VsSW52b2NhdGlvbkNvbnRlePRjb25maXJtSW52b2NhdGlvbkNvbnRlePRyb290RG9tYWnucm9vdFhp5HN0YXR183RyYW5zYWN0aW9uQ29udGV4dEVkaXRvckNsYXPzeGnkWygBBWFyZ/NhdHRhY2htZW50821ldGhvZE5hbeVwYXJhbWV0ZXJUeXBl83RhcmdldENsYXPzJQ4BAgMBMTMyNDM1MmY2NWJlNDE4ZWI3NmQxYTM2YzM4NDM5NbUGBQADFQEBFhUAEwMBY2FuY2VsTWFrZVBheW1lbvQIBwAFDAECAQNPTgBMCwEBAG9yZy5tZW5neXVuLnRjY3RyYW5zYWN0aW9uLnNhbXBsZS5mZWlnbi5vcmRlci5zZXJ2aWNlLlBheW1lbnRTZXJ2aWNlSW1w7AIBAAcABSgBAg4JBgUAAxUBARcWABQDAWNvbmZpcm1NYWtlUGF5bWVu9AcGAAQMAQIOBQQAAgsPAgEAEwARAwFUQ0M6RkVJR046T1JERdIaABgpAQF4aeQRAwE4MzdlNGFjZmEwMzYwZLUCAQAEAAICGEwASgsBAQFvcmcubWVuZ3l1bi50Y2N0cmFuc2FjdGlvbi5jb250ZXh0LlRocmVhZExvY2FsVHJhbnNhY3Rpb25Db250ZXh0RWRpdG/yFgAUKQERAwE4MzdlNGFjZmEwMzYwZLYCAQCZAQABlQEoAZEBDgECAQJvcmcubWVuZ3l1bi50Y2N0cmFuc2FjdGlvbi5zYW1wbGUuZmVpZ24uY2FwaXRhbC5hcGkuZHRvLkNhcGl0YWxUcmFkZU9yZGVyRHTvAQVhbW91bvRtZXJjaGFudE9yZGVyTu9vcHBvc2l0ZVVzZXJJ5G9yZGVyVGl0bOVzZWxmVXNlcknkBiIBAwjcAAYFBAACAwoHBgUAAwnQDzAvLgAsAwGqb3JkZXIgbm86MTMyNDM1MmY2NWJlNDE4ZWI3NmQxYTM2YzM4NDM5NTUHBgUAAwmgHwMCAQAGBQADFQEBCwoACAMBcmVjb3LkCQgABgwBAgEBAk1MAEoLAQEDb3JnLm1lbmd5dW4udGNjdHJhbnNhY3Rpb24uc2FtcGxlLmZlaWduLm9yZGVyLmZlaWduLkNhcGl0YWxGZWlnbkNsaWVu9AIBAAcABSgBAg4cBgUAAxUBAQUEAAIDIQcGAAQMAQIjBQQAAgskAgEABAACAxQEAAIpFQQAAgIWBAACCxcWABQpAREDATgzN2U0YWNmYTAzNjBktwIBAJwBAAGYASgBlAEOAQIBBG9yZy5tZW5neXVuLnRjY3RyYW5zYWN0aW9uLnNhbXBsZS5mZWlnbi5yZWRwYWNrZXQuYXBpLmR0by5SZWRQYWNrZXRUcmFkZU9yZGVyRHTvAQVhbW91bvRtZXJjaGFudE9yZGVyTu9vcHBvc2l0ZVVzZXJJ5G9yZGVyVGl0bOVzZWxmVXNlcknkBSIBAhQABgUEAAIDCgcGBQADCdAPMC8uACwDAapvcmRlciBubzoxMzI0MzUyZjY1YmU0MThlYjc2ZDFhMzZjMzg0Mzk1NQcGBQADCaAfAwIBAAYFAAMVAQEFBAACAyEJCAAGDAECAQEET04ATAsBAQVvcmcubWVuZ3l1bi50Y2N0cmFuc2FjdGlvbi5zYW1wbGUuZmVpZ24ub3JkZXIuZmVpZ24uUmVkUGFja2V0RmVpZ25DbGllbvQCAQAHAAUoAQIOLAYFAAMVAQEFBAACAyEHBgAEDAECMgUEAAILMwIBAAQAAgMUBAACKRUEAAICFgQAAgsXFgAUKQERAwE4MzdlNGFjZmEwMzYwZOYCAQABAAACAhIAAgMUAAIpFQACKgMAAiwBAAIJIgACKRUA";
        Transaction transaction = registerableKryoTransactionSerializer.deserialize(Base64.getDecoder().decode(base64Content));
        assert transaction != null;
    }
}
